{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,KAC1CC,QAAQC,IAAI,aAahB,iBACUC,EAAeJ,SAASK,uBAAuB,kBAErD,SAAAC,EAA4BC,EAASC,SAC3BC,EAAuBC,UACnBC,EAAKX,SAASY,eAAeJ,IAC9BD,EAAQM,SAASH,EAAMI,SAA+B,sBAApBJ,EAAMI,OAAON,IAAmD,aAApBE,EAAMI,OAAON,IAAqBO,EAAUJ,KAqF3I,SAAsBH,GAClBR,SAASY,eAAeJ,GAAIQ,SArFhBC,CAAaT,GACbU,EAAYX,GACZY,MAIFA,EAAsB,KACxBnB,SAASoB,oBAAoB,QAASX,IAG1CT,SAASC,iBAAiB,QAASQ,GAGvC,SAAAS,EAAqBX,SACXc,EAAIrB,SAASsB,cAAc,OAC3Bd,EAAKD,EAAQgB,aAAa,WAE1BC,EAAcjB,EAAQkB,aAAa,kBACnClB,EAAQgB,aAAa,kBACrB,GAEFC,EAAYE,OAAQL,EAAEM,UA2B1B,8DA3B2DH,EA6B3D,+EA5BKH,EAAEM,UAqCf,SAAwBnB,SAEhB,6DACAA,EACA,kFAzCmBoB,CAAepB,GAElCD,EAAQsB,YAAYR,GACpBA,EAAEpB,iBAAiB,SAAS,iBAClB6B,EAAST,EAAEU,eA4C7B,SAAsBC,EAAaxB,OAC3ByB,EAASjC,SAASsB,cAAc,UACpCW,EAAOC,aACH,MACA,2BACI1B,EACA,4GAERyB,EAAOC,aAAa,cAAe,KACnCD,EAAOC,aAAa,QAAS,kBAC7BD,EAAOzB,GAAK,iBACZwB,EAAYG,WAAWC,YAAYH,GAtD3BI,CAAaP,EAAQA,EAAOP,aAAa,eAG7CjB,EAAmBC,EAAS,wBAG1BQ,EAAYuB,KAAUA,MAAYA,EAAKC,aAAeD,EAAKE,cAAgBF,EAAKG,iBAAiBf,kBAE5FM,KAAe5B,EACtBc,EAAYc,GAnDhBU","sources":["./js/components/about.ts"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n    console.log(\"loaded\");\n    });/**\n * Get videos on load\n */\n (function () {\n    getVideos();\n})();\n\n/**\n * For each video player, create custom thumbnail or\n * use Youtube max resolution default thumbnail and create\n * iframe video.\n */\nfunction getVideos() {\n    const videoPlayers = document.getElementsByClassName(\"youtube-player\");\n\n    function hideOnClickOutside(element, id) {\n        const outsideClickListener = event => {\n            const el = document.getElementById(id);\n            if (!element.contains(event.target) && event.target.id !== \"youtube-thumbnail\" &&  event.target.id !== \"play-btn\" && isVisible(el)) { \n                removeIframe(id);\n                createImage(element);\n                removeClickListener();\n            }\n        };\n    \n        const removeClickListener = () => {\n            document.removeEventListener(\"click\", outsideClickListener);\n        };\n    \n        document.addEventListener(\"click\", outsideClickListener);\n    }\n\n    function createImage(element) {\n        const p = document.createElement(\"div\");\n        const id = element.getAttribute(\"data-id\");\n\n        const placeholder = element.hasAttribute(\"data-thumbnail\")\n            ? element.getAttribute(\"data-thumbnail\")\n            : \"\";\n\n        if (placeholder.length) p.innerHTML = createCustomThumbail(placeholder);\n        else p.innerHTML = createThumbail(id);\n\n        element.appendChild(p);\n        p.addEventListener(\"click\", function () {\n            const parent = p.parentElement;\n            createIframe(parent, parent.getAttribute(\"data-id\"));\n        });\n\n        hideOnClickOutside(element, \"youtube-iframe\");\n    }\n\n    const isVisible = elem => !!elem && !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n\n    for (const videoPlayer of videoPlayers) {\n        createImage(videoPlayer);\n    }\n\n}\n\n/**\n * Create custom thumbnail from data-attribute provided url\n * @param {string} url\n * @return {string} The HTML containing the <img> tag\n */\nfunction createCustomThumbail(url) {\n    return (\n        \"<img id=\\\"youtube-thumbnail\\\" class=\\\"youtube-thumbnail\\\" src=\\\"\" +\n        url +\n        \"\\\" alt=\\\"Youtube Preview\\\" /><div id=\\\"play-btn\\\" class=\\\"youtube-play-btn\\\"></div>\"\n    );\n}\n\n/**\n * Get Youtube default max resolution thumbnail\n * @param {string} id The Youtube video id\n * @return {string} The HTML containing the <img> tag\n */\nfunction createThumbail(id) {\n    return (\n        \"<img class=\\\"youtube-thumbnail\\\" src=\\\"//i.ytimg.com/vi_webp/\" +\n        id +\n        \"/maxresdefault.webp\\\" alt=\\\"Youtube Preview\\\"><div class=\\\"youtube-play-btn\\\"></div>\"\n    );\n}\n\n/**\n * Create and load iframe in Youtube container\n **/\nfunction createIframe(videoPlayer, id) {\n    var iframe = document.createElement(\"iframe\");\n    iframe.setAttribute(\n        \"src\",\n        \"//www.youtube.com/embed/\" +\n            id +\n            \"?autoplay=1&color=white&autohide=2&modestbranding=1&border=0&wmode=opaque&enablejsapi=1&showinfo=0&rel=0\"\n    );\n    iframe.setAttribute(\"frameborder\", \"0\");\n    iframe.setAttribute(\"class\", \"youtube-iframe\");\n    iframe.id = \"youtube-iframe\";\n    videoPlayer.firstChild.replaceWith(iframe);\n}\n\nfunction removeIframe(id) {\n    document.getElementById(id).remove();\n}\n"],"names":["document","addEventListener","console","log","videoPlayers","getElementsByClassName","hideOnClickOutside","element","id","outsideClickListener","event","el","getElementById","contains","target","isVisible","remove","$86b8d11435ea9a0eea17a1af520a8217$var$removeIframe","createImage","removeClickListener","removeEventListener","p","createElement","getAttribute","placeholder","hasAttribute","length","innerHTML","$86b8d11435ea9a0eea17a1af520a8217$var$createThumbail","appendChild","parent","parentElement","videoPlayer","iframe","setAttribute","firstChild","replaceWith","$86b8d11435ea9a0eea17a1af520a8217$var$createIframe","elem","offsetWidth","offsetHeight","getClientRects","$86b8d11435ea9a0eea17a1af520a8217$var$getVideos"],"version":3,"file":"about.12a794f3.js.map"}